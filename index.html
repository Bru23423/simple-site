<link rel="icon" href="favicon_bricklogo.png" type="image/png
    <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Art Video & GIF Uploader</title>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-storage.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js"></script>
    
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 50px;
        }

        #warning {
            margin: 20px;
            padding: 10px;
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        input[type="file"] {
            margin-top: 20px;
        }

        #upload-button {
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
        }

        #upload-button:disabled {
            background-color: #ccc;
        }
    </style>
</head>
<body>

    <h1>Art Video & GIF Uploader</h1>

    <div id="warning">
        <p><strong>Warning:</strong> This site contains adult content. You must be 18+ to upload or view content. By using this website, you agree to the terms.</p>
        <button onclick="acceptTerms()">I Agree (18+)</button>
    </div>

    <div id="upload-section" style="display:none;">
        <h3>Upload your Art (Video or GIF)</h3>
        <input type="file" id="file-input" accept="video/*, image/gif">
        <button id="upload-button" onclick="uploadFile()">Upload</button>
        <p id="status"></p>
    </div>

    <script>
        // Firebase Config and Initialization
        const firebaseConfig = {
  apiKey: "AIzaSyArz5gAM8rFOK8NiH2skrTFldVEiqkkbU8",
  authDomain: "justfunitcom.firebaseapp.com",
  projectId: "justfunitcom",
  storageBucket: "justfunitcom.firebasestorage.app",
  messagingSenderId: "12321079878",
  appId: "1:12321079878:web:301d5a953691b733278047"
};
        // Initialize Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const storage = firebase.storage();
        const auth = firebase.auth();
        const db = firebase.firestore();

        let userAgreed = false;

        function acceptTerms() {
            userAgreed = true;
            document.getElementById("warning").style.display = "none";
            document.getElementById("upload-section").style.display = "block";
        }

        function uploadFile() {
            if (userAgreed) {
                const fileInput = document.getElementById("file-input");
                const file = fileInput.files[0];
                if (file) {
                    const storageRef = storage.ref('uploads/' + file.name);
                    const uploadTask = storageRef.put(file);

                    uploadTask.on('state_changed', 
                        (snapshot) => {
                            // Uploading
                            const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
                            document.getElementById("status").innerText = "Uploading: " + progress.toFixed(2) + "%";
                        }, 
                        (error) => {
                            // Handle Errors
                            document.getElementById("status").innerText = "Error: " + error.message;
                        }, 
                        () => {
                            // Upload complete
                            uploadTask.snapshot.ref.getDownloadURL().then((downloadURL) => {
                                document.getElementById("status").innerText = "Upload complete! File available at: " + downloadURL;
                                saveToFirestore(file.name, downloadURL);
                            });
                        }
                    );
                }
            } else {
                alert("You must agree to the terms and conditions before uploading.");
            }
        }

        function saveToFirestore(fileName, downloadURL) {
            db.collection("uploads").add({
                name: fileName,
                url: downloadURL,
                timestamp: firebase.firestore.FieldValue.serverTimestamp()
            })
            .then((docRef) => {
                console.log("Document written with ID: ", docRef.id);
            })
            .catch((error) => {
                console.error("Error adding document: ", error);
            });
        }
    </script>

</body>
</html>
