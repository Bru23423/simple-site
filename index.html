<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ArtShare</title>
  <style>
    body { font-family: Arial; background: #f9f9f9; margin: 0; padding: 0; }
    header { background: #333; color: white; padding: 10px; text-align: center; }
    .auth-form, .upload-form, .gallery { padding: 20px; max-width: 600px; margin: auto; }
    .art-item { border: 1px solid #ccc; margin: 10px 0; padding: 10px; background: #fff; }
    .comment { font-size: 0.9em; color: #555; }
    .likes { color: red; cursor: pointer; }
  </style>
</head>
<body>

  <header>
    <h1>üé® ArtShare</h1>
    <div id="userStatus"></div>
  </header>

  <!-- Signup/Login -->
  <div class="auth-form" id="authForm">
    <h2>Sign Up / Log In</h2>
    <input type="text" id="username" placeholder="Enter username" /><br/><br/>
    <button onclick="login()">Login</button>
  </div>

  <!-- Upload Form -->
  <div class="upload-form" id="uploadForm" style="display:none;">
    <h2>Upload Your Art</h2>
    <input type="text" id="artTitle" placeholder="Art title" /><br/><br/>
    <input type="url" id="artURL" placeholder="Image URL" /><br/><br/>
    <button onclick="uploadArt()">Upload</button>
  </div>

  <!-- Gallery -->
  <div class="gallery" id="gallery">
    <h2>Gallery</h2>
    <!-- Art items will be injected here -->
  </div>

  <script>
    let currentUser = localStorage.getItem('artshareUser');
    let artList = JSON.parse(localStorage.getItem('artList')) || [];

    if (currentUser) {
      document.getElementById('authForm').style.display = 'none';
      document.getElementById('uploadForm').style.display = 'block';
      document.getElementById('userStatus').innerText = `Logged in as ${currentUser}`;
    }

    function login() {
      const username = document.getElementById('username').value;
      if (username) {
        localStorage.setItem('artshareUser', username);
        location.reload();
      }
    }

    function uploadArt() {
      const title = document.getElementById('artTitle').value;
      const url = document.getElementById('artURL').value;
      if (title && url && currentUser) {
        artList.push({
          title,
          url,
          author: currentUser,
          views: 0,
          likes: 0,
          comments: []
        });
        localStorage.setItem('artList', JSON.stringify(artList));
        displayGallery();
      }
    }

    function likeArt(index) {
      artList[index].likes += 1;
      localStorage.setItem('artList', JSON.stringify(artList));
      displayGallery();
    }

    function commentArt(index) {
      const comment = prompt("Leave a comment:");
      if (comment) {
        artList[index].comments.push(`${currentUser}: ${comment}`);
        localStorage.setItem('artList', JSON.stringify(artList));
        displayGallery();
      }
    }

    function displayGallery() {
      const container = document.getElementById('gallery');
      container.innerHTML = "<h2>Gallery</h2>";
      artList.forEach((art, index) => {
        art.views += 1;
        const div = document.createElement('div');
        div.className = 'art-item';
        div.innerHTML = `
          <h3>${art.title}</h3>
          <img src="${art.url}" alt="${art.title}" style="max-width:100%"/><br/>
          <p>By <strong>${art.author}</strong> | üëÅÔ∏è ${art.views} views | ‚ù§Ô∏è ${art.likes}</p>
          <button onclick="likeArt(${index})">Like</button>
          <button onclick="commentArt(${index})">Comment</button>
          <div class="comment">${art.comments.join('<br/>')}</div>
        `;
        container.appendChild(div);
      });
      localStorage.setItem('artList', JSON.stringify(artList));
    }

    displayGallery();
  </script>

</body>
</html>
